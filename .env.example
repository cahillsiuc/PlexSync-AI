# ================================================
# PlexSync AI - Environment Configuration Template
# ================================================
# Copy this file to .env and update with your values
# DO NOT commit .env to version control!

# ================================================
# Application Settings
# ================================================
APP_NAME=PlexSync AI
APP_VERSION=1.0.0
ENVIRONMENT=development  # development, staging, production
DEBUG=True
SECRET_KEY=change-this-to-a-secure-random-key-in-production
JWT_SECRET=change-this-to-a-different-secure-random-key

# ================================================
# Database Configuration
# ================================================
# PostgreSQL (Production)
DATABASE_URL=postgresql://plexsync:password@localhost:5432/plexsync_db

# SQLite (Development/Demo)
# DATABASE_URL=sqlite:///./plexsync.db

# Database Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ================================================
# Plex ERP Integration
# ================================================
PLEX_API_URL=https://test.connect.plex.com/accounting/v1
PLEX_API_KEY=your-plex-api-key-here
PLEX_TIMEOUT=30
PLEX_RETRY_ATTEMPTS=3

# Plex API Endpoints (customize if needed)
PLEX_PO_ENDPOINT=/purchase-orders
PLEX_INVOICE_ENDPOINT=/ap-invoices
PLEX_VENDOR_ENDPOINT=/vendors

# ================================================
# OpenAI Configuration
# ================================================
OPENAI_API_KEY=sk-proj-your-api-key-here
OPENAI_MODEL=gpt-4-vision-preview
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.1

# ================================================
# Redis Configuration (Job Queue & Caching)
# ================================================
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=3600  # 1 hour in seconds

# ================================================
# Email Integration (Optional)
# ================================================
# Gmail API
GMAIL_ENABLED=False
GMAIL_CREDENTIALS_FILE=credentials/gmail_credentials.json
GMAIL_TOKEN_FILE=credentials/gmail_token.json

# Email Webhook (Alternative to polling)
EMAIL_WEBHOOK_URL=https://your-app.com/api/webhooks/email
EMAIL_WEBHOOK_SECRET=your-webhook-secret

# SMTP (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@plexsync.ai

# ================================================
# File Storage
# ================================================
# Local filesystem
STORAGE_TYPE=local  # local, s3, azure
STORAGE_PATH=./storage/invoices

# AWS S3 (if using cloud storage)
# STORAGE_TYPE=s3
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_S3_BUCKET=plexsync-invoices
# AWS_S3_REGION=us-east-1

# ================================================
# Security Settings
# ================================================
# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# JWT Settings
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=1440  # 24 hours

# Password Hashing
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=True
PASSWORD_REQUIRE_NUMBERS=True

# ================================================
# Processing Settings
# ================================================
# Confidence Thresholds
HIGH_CONFIDENCE_THRESHOLD=90
AUTO_APPROVE_THRESHOLD=95
LOW_CONFIDENCE_THRESHOLD=70

# Processing Limits
MAX_FILE_SIZE_MB=16
ALLOWED_FILE_TYPES=pdf,png,jpg,jpeg,tiff
MAX_CONCURRENT_JOBS=5

# AI Parsing
AI_RETRY_ATTEMPTS=2
AI_TIMEOUT_SECONDS=60

# ================================================
# Monitoring & Logging
# ================================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/plexsync.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5

# Sentry Error Tracking (Optional)
SENTRY_ENABLED=False
SENTRY_DSN=https://your-sentry-dsn-here

# ================================================
# Rate Limiting
# ================================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ================================================
# Feature Flags
# ================================================
FEATURE_EMAIL_INTEGRATION=True
FEATURE_AUTO_APPROVAL=False
FEATURE_BULK_UPLOAD=True
FEATURE_ANALYTICS=True
FEATURE_API_ACCESS=True

# ================================================
# Server Configuration
# ================================================
# Backend
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=True  # Set to False in production

# Frontend
FRONTEND_PORT=3000
VITE_API_URL=http://localhost:8000

# ================================================
# Development Tools
# ================================================
# Database migrations
ALEMBIC_AUTO_UPGRADE=True

# API Documentation
DOCS_ENABLED=True
DOCS_URL=/docs
REDOC_URL=/redoc

# ================================================
# End of Configuration
# ================================================
